---
import Base from '../components/layouts/Base.astro';
import isRegistrationOpen from '../js/isRegistrationOpen.js';
---

<Base
    title="Register for The Great Pumpkin Chase"
    navigation={false}
    footer={false}
>
    <section
        class="min-h-screen flex flex-col items-center justify-center"
    >
        <div class="container mx-auto px-4 py-24">
            <div
                class="flex flex-col lg:flex-row items-start justify-center gap-8 lg:gap-12"
            >
                <div
                    class="w-full lg:w-1/2 text-center lg:text-left flex flex-col items-center lg:items-start justify-center mb-8 lg:mb-0"
                >
                    <h1
                        class="text-5xl md:text-6xl font-extrabold text-orange-900 mb-8 tracking-tight"
                    >
                        Registration
                    </h1>
                    {
                        isRegistrationOpen() ? (
                            <>
                                <p class="text-2xl md:text-3xl text-blue-800 mb-4 max-w-xl mx-auto md:mx-0">
                                    Registration is now open!
                                    <br />
                                    Please fill out the form to sign
                                    up for The Great Pumpkin Chase.
                                </p>
                                <div class="text-lg md:text-xl text-red-700 font-semibold mb-8 max-w-xl mx-auto md:mx-0">
                                    Registration closes at{' '}
                                    <span class="underline">
                                        midnight on Friday, October
                                        17th!
                                    </span>
                                </div>
                            </>
                        ) : (
                            <p class="text-2xl md:text-3xl text-blue-800 mb-8 max-w-xl mx-auto md:mx-0">
                                Registration is currently closed.
                                <br />
                                Please check back later for updates!
                            </p>
                        )
                    }
                    <a href="/" class="btn-lg mt-4"> Back to Home </a>
                </div>
                {
                    isRegistrationOpen() && (
                        <div class="w-full lg:w-1/2 flex flex-col items-center">
                            <iframe
                                src="https://wlda547t.nocodb.com/#/nc/form/54ed6d40-726b-4af3-b1e4-994150a931f1"
                                title="Registration Form"
                                width="100%"
                                height="600"
                                frameborder="0"
                                allowfullscreen
                                class="w-full rounded-lg shadow-md border"
                            />
                            <p class="mt-5 text-center text-gray-500">
                                Having trouble viewing the form above?{' '}
                                <a
                                    class="text-blue-600 hover:text-blue-500 border-b border-blue-600 hover:border-blue-500"
                                    href="https://wlda547t.nocodb.com/#/nc/form/54ed6d40-726b-4af3-b1e4-994150a931f1"
                                >
                                    Open form in a new page.
                                </a>
                            </p>
                        </div>
                    )
                }
            </div>
        </div>
    </section>
</Base>
